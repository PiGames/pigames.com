{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/script.js"],"names":[],"mappings":"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","file":"script.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","function getCookie( cname ) {\n  const name = `${cname}=`;\n  const ca = document.cookie.split( \";\" );\n  for ( let i = 0; i < ca.length; i++ ) {\n    let c = ca[i];\n\n    while ( c.charAt( 0 ) === \" \" ) {\n      c = c.substring( 1 );\n    }\n\n    if ( c.indexOf( name ) === 0 ) {\n      return c.substring( name.length, c.length );\n    }\n  }\n  return \"\";\n}\n\nconst languages = navigator.languages;\n\nif ( window.location.pathname.indexOf( \"en\" ) < 0 && languages.every( ( lang ) => { return lang.indexOf( \"pl\" ) < 0; } ) && getCookie( \"been\" ) !== \"true\" ) {\n  const d = new Date();\n  d.setTime( d.getTime() + ( 365 * 3 * 24 * 60 * 60 * 1000 ) );\n  const expires = `expires=${d.toUTCString()}`;\n  document.cookie = `been=true;${expires};path=/`;\n\n  window.location.replace( `${window.location.origin}/en` );\n}\n\n\nfunction resizeSliders() {\n  $( \".slider\" ).each( function() {\n    $( this ).css( {\n      minHeight: $( this ).find( \".slide.active\" ).outerHeight(),\n    } );\n  } );\n}\n\nresizeSliders();\n\n$( window ).resize( resizeSliders );\n\n$( \"img\" ).one( \"load\", () => {\n  resizeSliders();\n} ).each( function() {\n  if ( this.complete ) {\n    $( this ).trigger( \"load\" );\n  }\n} );\n\n$( \".slider-next\" ).click( function() {\n  const $slider = $( this ).parents( \".slider\" );\n  const $slide = $slider.find( \".slide.active\" );\n\n  if ( !$slide.is( \":last-child\" ) ) {\n    $slider.removeClass( \"on-beggining\" );\n    $slide\n      .removeClass( \"active\" )\n      .addClass( \"prev\" );\n\n    $slide\n      .next()\n      .addClass( \"active\" );\n\n    $slider.css( {\n      minHeight: $slide.next().outerHeight(),\n    } );\n  }\n\n  if ( $slider.find( \".slide.active\" ).is( \":last-child\" ) ) {\n    $slider.addClass( \"on-end\" );\n  }\n} );\n\n$( \".slider-prev\" ).click( function() {\n  const $slider = $( this ).parents( \".slider\" );\n  const $slide = $slider.find( \".slide.active\" );\n\n  if ( !$slide.is( \":first-child\" ) ) {\n    $slider.removeClass( \"on-end\" );\n    $slide\n      .removeClass( \"active\" );\n\n    $slide.prev()\n      .removeClass( \"prev\" )\n      .addClass( \"active\" );\n\n    $slide.prev().prev()\n      .addClass( \"prev\" );\n\n    $slider.css( {\n      minHeight: $slide.prev().outerHeight(),\n    } );\n  }\n\n  if ( $slider.find( \".slide.active\" ).is( \":first-child\" ) ) {\n    $slider.addClass( \"on-beggining\" );\n  }\n} );\n\n$( \"#menu-visible\" ).change( function() {\n  if ( $( this ).prop( \"checked\" ) ) {\n    $( \"body\" ).addClass( \"menu-open\" );\n  } else {\n    $( \"body\" ).removeClass( \"menu-open\" );\n  }\n} );\n\n$( \"a[href*='#']\" ).click( function( e ) {\n  $( \"#menu-visible\" ).prop( \"checked\", false );\n  $( \"body\" ).removeClass( \"menu-open\" );\n  e.preventDefault();\n\n  const hash = $( this ).attr( \"href\" ).substring( 1 );\n  $( \"html, body\" ).animate( {\n    scrollTop: $( `#${hash}` ).offset().top - $( \"nav#topbar\" ).height(),\n  }, 500 );\n\n  return false;\n} );\n\n\n// Form\n\nfunction validate( e ) {\n  if ( e === true ) {\n    $( \"label[for='message'], label[for='email'], label[for='name'], label[for='subject']\" ).addClass( \"touched\" );\n  } else if ( e ) {\n    $( `label[for='${e.target.id}']` ).addClass( \"touched\" );\n  }\n\n  let isValid = true;\n  $( \"label[for='message'], label[for='email'], label[for='name'], label[for='subject']\" ).removeClass( \"invalid\" );\n\n  if ( $( \"#name\" ).val() === \"\" ) {\n    $( \"label[for='name']\" ).addClass( \"invalid\" );\n    isValid = false;\n  }\n\n  if ( $( \"#email\" ).val() === \"\" || /^.+@.+\\..{2,}$/.test( $( \"#email\" ).val() ) === false ) {\n    $( \"label[for='email']\" ).addClass( \"invalid\" );\n    isValid = false;\n  }\n\n  if ( $( \"#subject\" ).val() === \"\" ) {\n    $( \"label[for='subject']\" ).addClass( \"invalid\" );\n    isValid = false;\n  }\n\n  if ( $( \"#message\" ).val() === \"\" ) {\n    $( \"label[for='message']\" ).addClass( \"invalid\" );\n    isValid = false;\n  }\n\n  return isValid;\n}\n\nfunction send( token ) {\n  $.ajax( {\n    method: \"POST\",\n    url: \"http://b.legiec.eu/pigames/mail.php\",\n    data: {\n      \"g-recaptcha-response\": token,\n      \"name\": $( \"#name\" ).val(),\n      \"email\": $( \"#email\" ).val(),\n      \"subject\": $( \"#subject\" ).val(),\n      \"message\": $( \"#message\" ).val(),\n    },\n  } )\n  .done( ( msg ) => {\n    const response = JSON.parse( msg );\n\n    if ( response.success ) {\n      $( \"form\" ).addClass( \"sent\" );\n    }\n  } );\n}\n\nfunction onSubmit() {\n  if ( validate( true ) ) {\n    grecaptcha.execute();\n  }\n\n  return false;\n}\n\nwindow.send = send;\n\n$( \"form\" ).on( \"submit\", onSubmit );\n\n$( \"input, textarea\" ).on( \"input\", validate );\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvc2NyaXB0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxTQUFTLFNBQVQsQ0FBb0IsS0FBcEIsRUFBNEI7QUFDMUIsTUFBTSxPQUFVLEtBQVYsTUFBTjtBQUNBLE1BQU0sS0FBSyxTQUFTLE1BQVQsQ0FBZ0IsS0FBaEIsQ0FBdUIsR0FBdkIsQ0FBWDtBQUNBLE9BQU0sSUFBSSxJQUFJLENBQWQsRUFBaUIsSUFBSSxHQUFHLE1BQXhCLEVBQWdDLEdBQWhDLEVBQXNDO0FBQ3BDLFFBQUksSUFBSSxHQUFHLENBQUgsQ0FBUjs7QUFFQSxXQUFRLEVBQUUsTUFBRixDQUFVLENBQVYsTUFBa0IsR0FBMUIsRUFBZ0M7QUFDOUIsVUFBSSxFQUFFLFNBQUYsQ0FBYSxDQUFiLENBQUo7QUFDRDs7QUFFRCxRQUFLLEVBQUUsT0FBRixDQUFXLElBQVgsTUFBc0IsQ0FBM0IsRUFBK0I7QUFDN0IsYUFBTyxFQUFFLFNBQUYsQ0FBYSxLQUFLLE1BQWxCLEVBQTBCLEVBQUUsTUFBNUIsQ0FBUDtBQUNEO0FBQ0Y7QUFDRCxTQUFPLEVBQVA7QUFDRDs7QUFFRCxJQUFNLFlBQVksVUFBVSxTQUE1Qjs7QUFFQSxJQUFLLE9BQU8sUUFBUCxDQUFnQixRQUFoQixDQUF5QixPQUF6QixDQUFrQyxJQUFsQyxJQUEyQyxDQUEzQyxJQUFnRCxVQUFVLEtBQVYsQ0FBaUIsVUFBRSxJQUFGLEVBQVk7QUFBRSxTQUFPLEtBQUssT0FBTCxDQUFjLElBQWQsSUFBdUIsQ0FBOUI7QUFBa0MsQ0FBakUsQ0FBaEQsSUFBdUgsVUFBVyxNQUFYLE1BQXdCLE1BQXBKLEVBQTZKO0FBQzNKLE1BQU0sSUFBSSxJQUFJLElBQUosRUFBVjtBQUNBLElBQUUsT0FBRixDQUFXLEVBQUUsT0FBRixLQUFnQixNQUFNLENBQU4sR0FBVSxFQUFWLEdBQWUsRUFBZixHQUFvQixFQUFwQixHQUF5QixJQUFwRDtB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QXRDO0FBQ0EsY0FBVSxLQUFWO0FBQ0Q7O0FBRUQsTUFBSyxFQUFHLFVBQUgsRUFBZ0IsR0FBaEIsT0FBMEIsRUFBL0IsRUFBb0M7QUFDbEMsTUFBRyxzQkFBSCxFQUE0QixRQUE1QixDQUFzQyxTQUF0QztBQUNBLGNBQVUsS0FBVjtBQUNEOztBQUVELFNBQU8sT0FBUDtBQUNEOztBQUVELFNBQVMsSUFBVCxDQUFlLEtBQWYsRUFBdUI7QUFDckIsSUFBRSxJQUFGLENBQVE7QUFDTixZQUFRLE1BREY7QUFFTixTQUFLLHFDQUZDO0FBR04sVUFBTTtBQUNKLDhCQUF3QixLQURwQjtBQUVKLGNBQVEsRUFBRyxPQUFILEVBQWEsR0FBYixFQUZKO0FBR0osZUFBUyxFQUFHLFFBQUgsRUFBYyxHQUFkLEVBSEw7QUFJSixpQkFBVyxFQUFHLFVBQUgsRUFBZ0IsR0FBaEIsRUFKUDtBQUtKLGlCQUFXLEVBQUcsVUFBSCxFQUFnQixHQUFoQjtBQUxQO0FBSEEsR0FBUixFQVdDLElBWEQsQ0FXTyxVQUFFLEdBQUYsRUFBVztBQUNoQixRQUFNLFdBQVcsS0FBSyxLQUFMLENBQVksR0FBWixDQUFqQjs7QUFFQSxRQUFLLFNBQVMsT0FBZCxFQUF3QjtBQUN0QixRQUFHLE1BQUgsRUFBWSxRQUFaLENBQXNCLE1BQXRCO0FBQ0Q7QUFDRixHQWpCRDtBQWtCRDs7QUFFRCxTQUFTLFFBQVQsR0FBb0I7QUFDbEIsTUFBSyxTQUFVLElBQVYsQ0FBTCxFQUF3QjtBQUN0QixlQUFXLE9BQVg7QUFDRDs7QUFFRCxTQUFPLEtBQVA7QUFDRDs7QUFFRCxPQUFPLElBQVAsR0FBYyxJQUFkOztBQUVBLEVBQUcsTUFBSCxFQUFZLEVBQVosQ0FBZ0IsUUFBaEIsRUFBMEIsUUFBMUI7O0FBRUEsRUFBRyxpQkFBSCxFQUF1QixFQUF2QixDQUEyQixPQUEzQixFQUFvQyxRQUFwQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfSkiLCJmdW5jdGlvbiBnZXRDb29raWUoIGNuYW1lICkge1xuICBjb25zdCBuYW1lID0gYCR7Y25hbWV9PWA7XG4gIGNvbnN0IGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCBcIjtcIiApO1xuICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBjYS5sZW5ndGg7IGkrKyApIHtcbiAgICBsZXQgYyA9IGNhW2ldO1xuXG4gICAgd2hpbGUgKCBjLmNoYXJBdCggMCApID09PSBcIiBcIiApIHtcbiAgICAgIGMgPSBjLnN1YnN0cmluZyggMSApO1xuICAgIH1cblxuICAgIGlmICggYy5pbmRleE9mKCBuYW1lICkgPT09IDAgKSB7XG4gICAgICByZXR1cm4gYy5zdWJzdHJpbmcoIG5hbWUubGVuZ3RoLCBjLmxlbmd0aCApO1xuICAgIH1cbiAgfVxuICByZXR1cm4gXCJcIjtcbn1cblxuY29uc3QgbGFuZ3VhZ2VzID0gbmF2aWdhdG9yLmxhbmd1YWdlcztcblxuaWYgKCB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZiggXCJlblwiICkgPCAwICYmIGxhbmd1YWdlcy5ldmVyeSggKCBsYW5nICkgPT4geyByZXR1cm4gbGFuZy5pbmRleE9mKCBcInBsXCIgKSA8IDA7IH0gKSAmJiBnZXRDb29raWUoIFwiYmVlblwiICkgIT09IFwidHJ1ZVwiICkge1xuICBjb25zdCBkID0gbmV3IERhdGUoKTtcbiAgZC5zZXRUaW1lKCBkLmdldFRpbWUoKSArICggMzY1ICogMyAqIDI0ICogNjAgKiA2MCAqIDEwMDAgKSApO1xuICBjb25zdCBleHBpcmVzID0gYGV4cGlyZXM9JHtkLnRvVVRDU3RyaW5nKCl9YDtcbiAgZG9jdW1lbnQuY29va2llID0gYGJlZW49dHJ1ZTske2V4cGlyZXN9O3BhdGg9L2A7XG5cbiAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoIGAke3dpbmRvdy5sb2NhdGlvbi5vcmlnaW59L2VuYCApO1xufVxuXG5cbmZ1bmN0aW9uIHJlc2l6ZVNsaWRlcnMoKSB7XG4gICQoIFwiLnNsaWRlclwiICkuZWFjaCggZnVuY3Rpb24oKSB7XG4gICAgJCggdGhpcyApLmNzcygge1xuICAgICAgbWluSGVpZ2h0OiAkKCB0aGlzICkuZmluZCggXCIuc2xpZGUuYWN0aXZlXCIgKS5vdXRlckhlaWdodCgpLFxuICAgIH0gKTtcbiAgfSApO1xufVxuXG5yZXNpemVTbGlkZXJzKCk7XG5cbiQoIHdpbmRvdyApLnJlc2l6ZSggcmVzaXplU2xpZGVycyApO1xuXG4kKCBcImltZ1wiICkub25lKCBcImxvYWRcIiwgKCkgPT4ge1xuICByZXNpemVTbGlkZXJzKCk7XG59ICkuZWFjaCggZnVuY3Rpb24oKSB7XG4gIGlmICggdGhpcy5jb21wbGV0ZSApIHtcbiAgICAkKCB0aGlzICkudHJpZ2dlciggXCJsb2FkXCIgKTtcbiAgfVxufSApO1xuXG4kKCBcIi5zbGlkZXItbmV4dFwiICkuY2xpY2soIGZ1bmN0aW9uKCkge1xuICBjb25zdCAkc2xpZGVyID0gJCggdGhpcyApLnBhcmVudHMoIFwiLnNsaWRlclwiICk7XG4gIGNvbnN0ICRzbGlkZSA9ICRzbGlkZXIuZmluZCggXCIuc2xpZGUuYWN0aXZlXCIgKTtcblxuICBpZiAoICEkc2xpZGUuaXMoIFwiOmxhc3QtY2hpbGRcIiApICkge1xuICAgICRzbGlkZXIucmVtb3ZlQ2xhc3MoIFwib24tYmVnZ2luaW5nXCIgKTtcbiAgICAkc2xpZGVcbiAgICAgIC5yZW1vdmVDbGFzcyggXCJhY3RpdmVcIiApXG4gICAgICAuYWRkQ2xhc3MoIFwicHJldlwiICk7XG5cbiAgICAkc2xpZGVcbiAgICAgIC5uZXh0KClcbiAgICAgIC5hZGRDbGFzcyggXCJhY3RpdmVcIiApO1xuXG4gICAgJHNsaWRlci5jc3MoIHtcbiAgICAgIG1pbkhlaWdodDogJHNsaWRlLm5leHQoKS5vdXRlckhlaWdodCgpLFxuICAgIH0gKTtcbiAgfVxuXG4gIGlmICggJHNsaWRlci5maW5kKCBcIi5zbGlkZS5hY3RpdmVcIiApLmlzKCBcIjpsYXN0LWNoaWxkXCIgKSApIHtcbiAgICAkc2xpZGVyLmFkZENsYXNzKCBcIm9uLWVuZFwiICk7XG4gIH1cbn0gKTtcblxuJCggXCIuc2xpZGVyLXByZXZcIiApLmNsaWNrKCBmdW5jdGlvbigpIHtcbiAgY29uc3QgJHNsaWRlciA9ICQoIHRoaXMgKS5wYXJlbnRzKCBcIi5zbGlkZXJcIiApO1xuICBjb25zdCAkc2xpZGUgPSAkc2xpZGVyLmZpbmQoIFwiLnNsaWRlLmFjdGl2ZVwiICk7XG5cbiAgaWYgKCAhJHNsaWRlLmlzKCBcIjpmaXJzdC1jaGlsZFwiICkgKSB7XG4gICAgJHNsaWRlci5yZW1vdmVDbGFzcyggXCJvbi1lbmRcIiApO1xuICAgICRzbGlkZVxuICAgICAgLnJlbW92ZUNsYXNzKCBcImFjdGl2ZVwiICk7XG5cbiAgICAkc2xpZGUucHJldigpXG4gICAgICAucmVtb3ZlQ2xhc3MoIFwicHJldlwiIClcbiAgICAgIC5hZGRDbGFzcyggXCJhY3RpdmVcIiApO1xuXG4gICAgJHNsaWRlLnByZXYoKS5wcmV2KClcbiAgICAgIC5hZGRDbGFzcyggXCJwcmV2XCIgKTtcblxuICAgICRzbGlkZXIuY3NzKCB7XG4gICAgICBtaW5IZWlnaHQ6ICRzbGlkZS5wcmV2KCkub3V0ZXJIZWlnaHQoKSxcbiAgICB9ICk7XG4gIH1cblxuICBpZiAoICRzbGlkZXIuZmluZCggXCIuc2xpZGUuYWN0aXZlXCIgKS5pcyggXCI6Zmlyc3QtY2hpbGRcIiApICkge1xuICAgICRzbGlkZXIuYWRkQ2xhc3MoIFwib24tYmVnZ2luaW5nXCIgKTtcbiAgfVxufSApO1xuXG4kKCBcIiNtZW51LXZpc2libGVcIiApLmNoYW5nZSggZnVuY3Rpb24oKSB7XG4gIGlmICggJCggdGhpcyApLnByb3AoIFwiY2hlY2tlZFwiICkgKSB7XG4gICAgJCggXCJib2R5XCIgKS5hZGRDbGFzcyggXCJtZW51LW9wZW5cIiApO1xuICB9IGVsc2Uge1xuICAgICQoIFwiYm9keVwiICkucmVtb3ZlQ2xhc3MoIFwibWVudS1vcGVuXCIgKTtcbiAgfVxufSApO1xuXG4kKCBcImFbaHJlZio9JyMnXVwiICkuY2xpY2soIGZ1bmN0aW9uKCBlICkge1xuICAkKCBcIiNtZW51LXZpc2libGVcIiApLnByb3AoIFwiY2hlY2tlZFwiLCBmYWxzZSApO1xuICAkKCBcImJvZHlcIiApLnJlbW92ZUNsYXNzKCBcIm1lbnUtb3BlblwiICk7XG4gIGUucHJldmVudERlZmF1bHQoKTtcblxuICBjb25zdCBoYXNoID0gJCggdGhpcyApLmF0dHIoIFwiaHJlZlwiICkuc3Vic3RyaW5nKCAxICk7XG4gICQoIFwiaHRtbCwgYm9keVwiICkuYW5pbWF0ZSgge1xuICAgIHNjcm9sbFRvcDogJCggYCMke2hhc2h9YCApLm9mZnNldCgpLnRvcCAtICQoIFwibmF2I3RvcGJhclwiICkuaGVpZ2h0KCksXG4gIH0sIDUwMCApO1xuXG4gIHJldHVybiBmYWxzZTtcbn0gKTtcblxuXG4vLyBGb3JtXG5cbmZ1bmN0aW9uIHZhbGlkYXRlKCBlICkge1xuICBpZiAoIGUgPT09IHRydWUgKSB7XG4gICAgJCggXCJsYWJlbFtmb3I9J21lc3NhZ2UnXSwgbGFiZWxbZm9yPSdlbWFpbCddLCBsYWJlbFtmb3I9J25hbWUnXSwgbGFiZWxbZm9yPSdzdWJqZWN0J11cIiApLmFkZENsYXNzKCBcInRvdWNoZWRcIiApO1xuICB9IGVsc2UgaWYgKCBlICkge1xuICAgICQoIGBsYWJlbFtmb3I9JyR7ZS50YXJnZXQuaWR9J11gICkuYWRkQ2xhc3MoIFwidG91Y2hlZFwiICk7XG4gIH1cblxuICBsZXQgaXNWYWxpZCA9IHRydWU7XG4gICQoIFwibGFiZWxbZm9yPSdtZXNzYWdlJ10sIGxhYmVsW2Zvcj0nZW1haWwnXSwgbGFiZWxbZm9yPSduYW1lJ10sIGxhYmVsW2Zvcj0nc3ViamVjdCddXCIgKS5yZW1vdmVDbGFzcyggXCJpbnZhbGlkXCIgKTtcblxuICBpZiAoICQoIFwiI25hbWVcIiApLnZhbCgpID09PSBcIlwiICkge1xuICAgICQoIFwibGFiZWxbZm9yPSduYW1lJ11cIiApLmFkZENsYXNzKCBcImludmFsaWRcIiApO1xuICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgfVxuXG4gIGlmICggJCggXCIjZW1haWxcIiApLnZhbCgpID09PSBcIlwiIHx8IC9eLitALitcXC4uezIsfSQvLnRlc3QoICQoIFwiI2VtYWlsXCIgKS52YWwoKSApID09PSBmYWxzZSApIHtcbiAgICAkKCBcImxhYmVsW2Zvcj0nZW1haWwnXVwiICkuYWRkQ2xhc3MoIFwiaW52YWxpZFwiICk7XG4gICAgaXNWYWxpZCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKCAkKCBcIiNzdWJqZWN0XCIgKS52YWwoKSA9PT0gXCJcIiApIHtcbiAgICAkKCBcImxhYmVsW2Zvcj0nc3ViamVjdCddXCIgKS5hZGRDbGFzcyggXCJpbnZhbGlkXCIgKTtcbiAgICBpc1ZhbGlkID0gZmFsc2U7XG4gIH1cblxuICBpZiAoICQoIFwiI21lc3NhZ2VcIiApLnZhbCgpID09PSBcIlwiICkge1xuICAgICQoIFwibGFiZWxbZm9yPSdtZXNzYWdlJ11cIiApLmFkZENsYXNzKCBcImludmFsaWRcIiApO1xuICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBpc1ZhbGlkO1xufVxuXG5mdW5jdGlvbiBzZW5kKCB0b2tlbiApIHtcbiAgJC5hamF4KCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICB1cmw6IFwiaHR0cDovL2IubGVnaWVjLmV1L3BpZ2FtZXMvbWFpbC5waHBcIixcbiAgICBkYXRhOiB7XG4gICAgICBcImctcmVjYXB0Y2hhLXJlc3BvbnNlXCI6IHRva2VuLFxuICAgICAgXCJuYW1lXCI6ICQoIFwiI25hbWVcIiApLnZhbCgpLFxuICAgICAgXCJlbWFpbFwiOiAkKCBcIiNlbWFpbFwiICkudmFsKCksXG4gICAgICBcInN1YmplY3RcIjogJCggXCIjc3ViamVjdFwiICkudmFsKCksXG4gICAgICBcIm1lc3NhZ2VcIjogJCggXCIjbWVzc2FnZVwiICkudmFsKCksXG4gICAgfSxcbiAgfSApXG4gIC5kb25lKCAoIG1zZyApID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IEpTT04ucGFyc2UoIG1zZyApO1xuXG4gICAgaWYgKCByZXNwb25zZS5zdWNjZXNzICkge1xuICAgICAgJCggXCJmb3JtXCIgKS5hZGRDbGFzcyggXCJzZW50XCIgKTtcbiAgICB9XG4gIH0gKTtcbn1cblxuZnVuY3Rpb24gb25TdWJtaXQoKSB7XG4gIGlmICggdmFsaWRhdGUoIHRydWUgKSApIHtcbiAgICBncmVjYXB0Y2hhLmV4ZWN1dGUoKTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxud2luZG93LnNlbmQgPSBzZW5kO1xuXG4kKCBcImZvcm1cIiApLm9uKCBcInN1Ym1pdFwiLCBvblN1Ym1pdCApO1xuXG4kKCBcImlucHV0LCB0ZXh0YXJlYVwiICkub24oIFwiaW5wdXRcIiwgdmFsaWRhdGUgKTtcbiJdfQ=="}