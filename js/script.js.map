{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/js/script.js"],"names":[],"mappings":"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","file":"script.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","function getCookie( cname ) {\n  const name = `${cname}=`;\n  const ca = document.cookie.split( \";\" );\n  for ( let i = 0; i < ca.length; i++ ) {\n    let c = ca[i];\n\n    while ( c.charAt( 0 ) === \" \" ) {\n      c = c.substring( 1 );\n    }\n\n    if ( c.indexOf( name ) === 0 ) {\n      return c.substring( name.length, c.length );\n    }\n  }\n  return \"\";\n}\n\nconst languages = navigator.languages;\n\nif ( window.location.pathname.indexOf( \"en\" ) < 0 && languages.every( ( lang ) => { return lang.indexOf( \"pl\" ) < 0; } ) && getCookie( \"been\" ) !== \"true\" ) {\n  const d = new Date();\n  d.setTime( d.getTime() + ( 365 * 3 * 24 * 60 * 60 * 1000 ) );\n  const expires = `expires=${d.toUTCString()}`;\n  document.cookie = `been=true;${expires};path=/`;\n\n  window.location.replace( `${window.location.origin}/en` );\n}\n\n\nfunction resizeSliders() {\n  $( \".slider\" ).each( function() {\n    $( this ).css( {\n      minHeight: $( this ).find( \".slide.active\" ).outerHeight(),\n    } );\n  } );\n}\n\nresizeSliders();\n\n$( window ).resize( resizeSliders );\n\n$( \"img\" ).one( \"load\", () => {\n  resizeSliders();\n} ).each( function() {\n  if ( this.complete ) {\n    $( this ).trigger( \"load\" );\n  }\n} );\n\n$( \".slider-next\" ).click( function() {\n  const $slider = $( this ).parents( \".slider\" );\n  const $slide = $slider.find( \".slide.active\" );\n\n  if ( !$slide.is( \":last-child\" ) ) {\n    $slider.removeClass( \"on-beggining\" );\n    $slide\n      .removeClass( \"active\" )\n      .addClass( \"prev\" );\n\n    $slide\n      .next()\n      .addClass( \"active\" );\n\n    $slider.css( {\n      minHeight: $slide.next().outerHeight(),\n    } );\n  }\n\n  if ( $slider.find( \".slide.active\" ).is( \":last-child\" ) ) {\n    $slider.addClass( \"on-end\" );\n  }\n} );\n\n$( \".slider-prev\" ).click( function() {\n  const $slider = $( this ).parents( \".slider\" );\n  const $slide = $slider.find( \".slide.active\" );\n\n  if ( !$slide.is( \":first-child\" ) ) {\n    $slider.removeClass( \"on-end\" );\n    $slide\n      .removeClass( \"active\" );\n\n    $slide.prev()\n      .removeClass( \"prev\" )\n      .addClass( \"active\" );\n\n    $slide.prev().prev()\n      .addClass( \"prev\" );\n\n    $slider.css( {\n      minHeight: $slide.prev().outerHeight(),\n    } );\n  }\n\n  if ( $slider.find( \".slide.active\" ).is( \":first-child\" ) ) {\n    $slider.addClass( \"on-beggining\" );\n  }\n} );\n\n$( \"#menu-visible\" ).change( function() {\n  if ( $( this ).prop( \"checked\" ) ) {\n    $( \"body\" ).addClass( \"menu-open\" );\n  } else {\n    $( \"body\" ).removeClass( \"menu-open\" );\n  }\n} );\n\n$( \"a[href*='#']\" ).click( function( e ) {\n  $( \"#menu-visible\" ).prop( \"checked\", false );\n  $( \"body\" ).removeClass( \"menu-open\" );\n  e.preventDefault();\n\n  const hash = $( this ).attr( \"href\" ).substring( 1 );\n  $( \"html, body\" ).animate( {\n    scrollTop: $( `#${hash}` ).offset().top - $( \"nav#topbar\" ).height(),\n  }, 500 );\n\n  return false;\n} );\n\n\n// Form\n\nfunction validate( e ) {\n  if ( e === true ) {\n    $( \"label[for='message'], label[for='email'], label[for='name'], label[for='subject']\" ).addClass( \"touched\" );\n  } else if ( e ) {\n    $( `label[for='${e.target.id}']` ).addClass( \"touched\" );\n  }\n\n  let isValid = true;\n  $( \"label[for='message'], label[for='email'], label[for='name'], label[for='subject']\" ).removeClass( \"invalid\" );\n\n  if ( $( \"#name\" ).val() === \"\" ) {\n    $( \"label[for='name']\" ).addClass( \"invalid\" );\n    isValid = false;\n  }\n\n  if ( $( \"#email\" ).val() === \"\" || /^.+@.+\\..{2,}$/.test( $( \"#email\" ).val() ) === false ) {\n    $( \"label[for='email']\" ).addClass( \"invalid\" );\n    isValid = false;\n  }\n\n  if ( $( \"#subject\" ).val() === \"\" ) {\n    $( \"label[for='subject']\" ).addClass( \"invalid\" );\n    isValid = false;\n  }\n\n  if ( $( \"#message\" ).val() === \"\" ) {\n    $( \"label[for='message']\" ).addClass( \"invalid\" );\n    isValid = false;\n  }\n\n  return isValid;\n}\n\nfunction send( token ) {\n  $.ajax( {\n    method: \"POST\",\n    url: \"http://b.legiec.eu/pigames/mail.php\",\n    data: {\n      \"g-recaptcha-response\": token,\n      \"name\": $( \"#name\" ).val(),\n      \"email\": $( \"#email\" ).val(),\n      \"subject\": $( \"#subject\" ).val(),\n      \"message\": $( \"#message\" ).val(),\n    },\n  } )\n  .done( ( msg ) => {\n    const response = JSON.parse( msg );\n\n    if ( response.success ) {\n      $( \"form\" ).addClass( \"sent\" );\n    }\n  } );\n}\n\nfunction onSubmit() {\n  if ( validate( true ) ) {\n    grecaptcha.execute();\n  }\n\n  return false;\n}\n\nwindow.send = send;\n\n$( \"form\" ).on( \"submit\", onSubmit );\n\n$( \"input, textarea\" ).on( \"input\", validate );\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvanMvc2NyaXB0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxTQUFTLFNBQVQsQ0FBb0IsS0FBcEIsRUFBNEI7QUFDMUIsTUFBTSxPQUFVLEtBQVYsTUFBTjtBQUNBLE1BQU0sS0FBSyxTQUFTLE1BQVQsQ0FBZ0IsS0FBaEIsQ0FBdUIsR0FBdkIsQ0FBWDtBQUNBLE9BQU0sSUFBSSxJQUFJLENBQWQsRUFBaUIsSUFBSSxHQUFHLE1BQXhCLEVBQWdDLEdBQWhDLEVBQXNDO0FBQ3BDLFFBQUksSUFBSSxHQUFHLENBQUgsQ0FBUjs7QUFFQSxXQUFRLEVBQUUsTUFBRixDQUFVLENBQVYsTUFBa0IsR0FBMUIsRUFBZ0M7QUFDOUIsVUFBSSxFQUFFLFNBQUYsQ0FBYSxDQUFiLENBQUo7QUFDRDs7QUFFRCxRQUFLLEVBQUUsT0FBRixDQUFXLElBQVgsTUFBc0IsQ0FBM0IsRUFBK0I7QUFDN0IsYUFBTyxFQUFFLFNBQUYsQ0FBYSxLQUFLLE1BQWxCLEVBQTBCLEVBQUUsTUFBNUIsQ0FBUDtBQUNEO0FBQ0Y7QUFDRCxTQUFPLEVBQVA7QUFDRDs7QUFFRCxJQUFNLFlBQVksVUFBVSxTQUE1Qjs7QUFFQSxJQUFLLE9BQU8sUUFBUCxDQUFnQixRQUFoQixDQUF5QixPQUF6QixDQUFrQyxJQUFsQyxJQUEyQyxDQUEzQyxJQUFnRCxVQUFVLEtBQVYsQ0FBaUIsVUFBRSxJQUFGLEVBQVk7QUFBRSxTQUFPLEtBQUssT0FBTCxDQUFjLElBQWQsSUFBdUIsQ0FBOUI7QUFBa0MsQ0FBakUsQ0FBaEQsSUFBdUgsVUFBVyxNQUFYLE1BQXdCLE1BQXBKLEVBQTZKO0FBQzNKLE1BQU0sSUFBSSxJQUFJLElBQUosRUFBVjtBQUNBLElBQUUsT0FBRixDQUFXLEVBQUUsT0FBRixLQUFnQixNQUFNLENBQU4sR0FBVSxFQUFWLEdBQWUsRUFBZixHQUFvQixFQUFwQixHQUF5QixJQUFwRDtB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QXRDO0FBQ0EsY0FBVSxLQUFWO0FBQ0Q7O0FBRUQsTUFBSyxFQUFHLFVBQUgsRUFBZ0IsR0FBaEIsT0FBMEIsRUFBL0IsRUFBb0M7QUFDbEMsTUFBRyxzQkFBSCxFQUE0QixRQUE1QixDQUFzQyxTQUF0QztBQUNBLGNBQVUsS0FBVjtBQUNEOztBQUVELFNBQU8sT0FBUDtBQUNEOztBQUVELFNBQVMsSUFBVCxDQUFlLEtBQWYsRUFBdUI7QUFDckIsSUFBRSxJQUFGLENBQVE7QUFDTixZQUFRLE1BREY7QUFFTixTQUFLLHFDQUZDO0FBR04sVUFBTTtBQUNKLDhCQUF3QixLQURwQjtBQUVKLGNBQVEsRUFBRyxPQUFILEVBQWEsR0FBYixFQUZKO0FBR0osZUFBUyxFQUFHLFFBQUgsRUFBYyxHQUFkLEVBSEw7QUFJSixpQkFBVyxFQUFHLFVBQUgsRUFBZ0IsR0FBaEIsRUFKUDtBQUtKLGlCQUFXLEVBQUcsVUFBSCxFQUFnQixHQUFoQjtBQUxQO0FBSEEsR0FBUixFQVdDLElBWEQsQ0FXTyxVQUFFLEdBQUYsRUFBVztBQUNoQixRQUFNLFdBQVcsS0FBSyxLQUFMLENBQVksR0FBWixDQUFqQjs7QUFFQSxRQUFLLFNBQVMsT0FBZCxFQUF3QjtBQUN0QixRQUFHLE1BQUgsRUFBWSxRQUFaLENBQXNCLE1BQXRCO0FBQ0Q7QUFDRixHQWpCRDtBQWtCRDs7QUFFRCxTQUFTLFFBQVQsR0FBb0I7QUFDbEIsTUFBSyxTQUFVLElBQVYsQ0FBTCxFQUF3QjtBQUN0QixlQUFXLE9BQVg7QUFDRDs7QUFFRCxTQUFPLEtBQVA7QUFDRDs7QUFFRCxPQUFPLElBQVAsR0FBYyxJQUFkOztBQUVBLEVBQUcsTUFBSCxFQUFZLEVBQVosQ0FBZ0IsUUFBaEIsRUFBMEIsUUFBMUI7O0FBRUEsRUFBRyxpQkFBSCxFQUF1QixFQUF2QixDQUEyQixPQUEzQixFQUFvQyxRQUFwQyIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9cmV0dXJuIGV9KSgpIiwiZnVuY3Rpb24gZ2V0Q29va2llKCBjbmFtZSApIHtcbiAgY29uc3QgbmFtZSA9IGAke2NuYW1lfT1gO1xuICBjb25zdCBjYSA9IGRvY3VtZW50LmNvb2tpZS5zcGxpdCggXCI7XCIgKTtcbiAgZm9yICggbGV0IGkgPSAwOyBpIDwgY2EubGVuZ3RoOyBpKysgKSB7XG4gICAgbGV0IGMgPSBjYVtpXTtcblxuICAgIHdoaWxlICggYy5jaGFyQXQoIDAgKSA9PT0gXCIgXCIgKSB7XG4gICAgICBjID0gYy5zdWJzdHJpbmcoIDEgKTtcbiAgICB9XG5cbiAgICBpZiAoIGMuaW5kZXhPZiggbmFtZSApID09PSAwICkge1xuICAgICAgcmV0dXJuIGMuc3Vic3RyaW5nKCBuYW1lLmxlbmd0aCwgYy5sZW5ndGggKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIFwiXCI7XG59XG5cbmNvbnN0IGxhbmd1YWdlcyA9IG5hdmlnYXRvci5sYW5ndWFnZXM7XG5cbmlmICggd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoIFwiZW5cIiApIDwgMCAmJiBsYW5ndWFnZXMuZXZlcnkoICggbGFuZyApID0+IHsgcmV0dXJuIGxhbmcuaW5kZXhPZiggXCJwbFwiICkgPCAwOyB9ICkgJiYgZ2V0Q29va2llKCBcImJlZW5cIiApICE9PSBcInRydWVcIiApIHtcbiAgY29uc3QgZCA9IG5ldyBEYXRlKCk7XG4gIGQuc2V0VGltZSggZC5nZXRUaW1lKCkgKyAoIDM2NSAqIDMgKiAyNCAqIDYwICogNjAgKiAxMDAwICkgKTtcbiAgY29uc3QgZXhwaXJlcyA9IGBleHBpcmVzPSR7ZC50b1VUQ1N0cmluZygpfWA7XG4gIGRvY3VtZW50LmNvb2tpZSA9IGBiZWVuPXRydWU7JHtleHBpcmVzfTtwYXRoPS9gO1xuXG4gIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCBgJHt3aW5kb3cubG9jYXRpb24ub3JpZ2lufS9lbmAgKTtcbn1cblxuXG5mdW5jdGlvbiByZXNpemVTbGlkZXJzKCkge1xuICAkKCBcIi5zbGlkZXJcIiApLmVhY2goIGZ1bmN0aW9uKCkge1xuICAgICQoIHRoaXMgKS5jc3MoIHtcbiAgICAgIG1pbkhlaWdodDogJCggdGhpcyApLmZpbmQoIFwiLnNsaWRlLmFjdGl2ZVwiICkub3V0ZXJIZWlnaHQoKSxcbiAgICB9ICk7XG4gIH0gKTtcbn1cblxucmVzaXplU2xpZGVycygpO1xuXG4kKCB3aW5kb3cgKS5yZXNpemUoIHJlc2l6ZVNsaWRlcnMgKTtcblxuJCggXCJpbWdcIiApLm9uZSggXCJsb2FkXCIsICgpID0+IHtcbiAgcmVzaXplU2xpZGVycygpO1xufSApLmVhY2goIGZ1bmN0aW9uKCkge1xuICBpZiAoIHRoaXMuY29tcGxldGUgKSB7XG4gICAgJCggdGhpcyApLnRyaWdnZXIoIFwibG9hZFwiICk7XG4gIH1cbn0gKTtcblxuJCggXCIuc2xpZGVyLW5leHRcIiApLmNsaWNrKCBmdW5jdGlvbigpIHtcbiAgY29uc3QgJHNsaWRlciA9ICQoIHRoaXMgKS5wYXJlbnRzKCBcIi5zbGlkZXJcIiApO1xuICBjb25zdCAkc2xpZGUgPSAkc2xpZGVyLmZpbmQoIFwiLnNsaWRlLmFjdGl2ZVwiICk7XG5cbiAgaWYgKCAhJHNsaWRlLmlzKCBcIjpsYXN0LWNoaWxkXCIgKSApIHtcbiAgICAkc2xpZGVyLnJlbW92ZUNsYXNzKCBcIm9uLWJlZ2dpbmluZ1wiICk7XG4gICAgJHNsaWRlXG4gICAgICAucmVtb3ZlQ2xhc3MoIFwiYWN0aXZlXCIgKVxuICAgICAgLmFkZENsYXNzKCBcInByZXZcIiApO1xuXG4gICAgJHNsaWRlXG4gICAgICAubmV4dCgpXG4gICAgICAuYWRkQ2xhc3MoIFwiYWN0aXZlXCIgKTtcblxuICAgICRzbGlkZXIuY3NzKCB7XG4gICAgICBtaW5IZWlnaHQ6ICRzbGlkZS5uZXh0KCkub3V0ZXJIZWlnaHQoKSxcbiAgICB9ICk7XG4gIH1cblxuICBpZiAoICRzbGlkZXIuZmluZCggXCIuc2xpZGUuYWN0aXZlXCIgKS5pcyggXCI6bGFzdC1jaGlsZFwiICkgKSB7XG4gICAgJHNsaWRlci5hZGRDbGFzcyggXCJvbi1lbmRcIiApO1xuICB9XG59ICk7XG5cbiQoIFwiLnNsaWRlci1wcmV2XCIgKS5jbGljayggZnVuY3Rpb24oKSB7XG4gIGNvbnN0ICRzbGlkZXIgPSAkKCB0aGlzICkucGFyZW50cyggXCIuc2xpZGVyXCIgKTtcbiAgY29uc3QgJHNsaWRlID0gJHNsaWRlci5maW5kKCBcIi5zbGlkZS5hY3RpdmVcIiApO1xuXG4gIGlmICggISRzbGlkZS5pcyggXCI6Zmlyc3QtY2hpbGRcIiApICkge1xuICAgICRzbGlkZXIucmVtb3ZlQ2xhc3MoIFwib24tZW5kXCIgKTtcbiAgICAkc2xpZGVcbiAgICAgIC5yZW1vdmVDbGFzcyggXCJhY3RpdmVcIiApO1xuXG4gICAgJHNsaWRlLnByZXYoKVxuICAgICAgLnJlbW92ZUNsYXNzKCBcInByZXZcIiApXG4gICAgICAuYWRkQ2xhc3MoIFwiYWN0aXZlXCIgKTtcblxuICAgICRzbGlkZS5wcmV2KCkucHJldigpXG4gICAgICAuYWRkQ2xhc3MoIFwicHJldlwiICk7XG5cbiAgICAkc2xpZGVyLmNzcygge1xuICAgICAgbWluSGVpZ2h0OiAkc2xpZGUucHJldigpLm91dGVySGVpZ2h0KCksXG4gICAgfSApO1xuICB9XG5cbiAgaWYgKCAkc2xpZGVyLmZpbmQoIFwiLnNsaWRlLmFjdGl2ZVwiICkuaXMoIFwiOmZpcnN0LWNoaWxkXCIgKSApIHtcbiAgICAkc2xpZGVyLmFkZENsYXNzKCBcIm9uLWJlZ2dpbmluZ1wiICk7XG4gIH1cbn0gKTtcblxuJCggXCIjbWVudS12aXNpYmxlXCIgKS5jaGFuZ2UoIGZ1bmN0aW9uKCkge1xuICBpZiAoICQoIHRoaXMgKS5wcm9wKCBcImNoZWNrZWRcIiApICkge1xuICAgICQoIFwiYm9keVwiICkuYWRkQ2xhc3MoIFwibWVudS1vcGVuXCIgKTtcbiAgfSBlbHNlIHtcbiAgICAkKCBcImJvZHlcIiApLnJlbW92ZUNsYXNzKCBcIm1lbnUtb3BlblwiICk7XG4gIH1cbn0gKTtcblxuJCggXCJhW2hyZWYqPScjJ11cIiApLmNsaWNrKCBmdW5jdGlvbiggZSApIHtcbiAgJCggXCIjbWVudS12aXNpYmxlXCIgKS5wcm9wKCBcImNoZWNrZWRcIiwgZmFsc2UgKTtcbiAgJCggXCJib2R5XCIgKS5yZW1vdmVDbGFzcyggXCJtZW51LW9wZW5cIiApO1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgY29uc3QgaGFzaCA9ICQoIHRoaXMgKS5hdHRyKCBcImhyZWZcIiApLnN1YnN0cmluZyggMSApO1xuICAkKCBcImh0bWwsIGJvZHlcIiApLmFuaW1hdGUoIHtcbiAgICBzY3JvbGxUb3A6ICQoIGAjJHtoYXNofWAgKS5vZmZzZXQoKS50b3AgLSAkKCBcIm5hdiN0b3BiYXJcIiApLmhlaWdodCgpLFxuICB9LCA1MDAgKTtcblxuICByZXR1cm4gZmFsc2U7XG59ICk7XG5cblxuLy8gRm9ybVxuXG5mdW5jdGlvbiB2YWxpZGF0ZSggZSApIHtcbiAgaWYgKCBlID09PSB0cnVlICkge1xuICAgICQoIFwibGFiZWxbZm9yPSdtZXNzYWdlJ10sIGxhYmVsW2Zvcj0nZW1haWwnXSwgbGFiZWxbZm9yPSduYW1lJ10sIGxhYmVsW2Zvcj0nc3ViamVjdCddXCIgKS5hZGRDbGFzcyggXCJ0b3VjaGVkXCIgKTtcbiAgfSBlbHNlIGlmICggZSApIHtcbiAgICAkKCBgbGFiZWxbZm9yPScke2UudGFyZ2V0LmlkfSddYCApLmFkZENsYXNzKCBcInRvdWNoZWRcIiApO1xuICB9XG5cbiAgbGV0IGlzVmFsaWQgPSB0cnVlO1xuICAkKCBcImxhYmVsW2Zvcj0nbWVzc2FnZSddLCBsYWJlbFtmb3I9J2VtYWlsJ10sIGxhYmVsW2Zvcj0nbmFtZSddLCBsYWJlbFtmb3I9J3N1YmplY3QnXVwiICkucmVtb3ZlQ2xhc3MoIFwiaW52YWxpZFwiICk7XG5cbiAgaWYgKCAkKCBcIiNuYW1lXCIgKS52YWwoKSA9PT0gXCJcIiApIHtcbiAgICAkKCBcImxhYmVsW2Zvcj0nbmFtZSddXCIgKS5hZGRDbGFzcyggXCJpbnZhbGlkXCIgKTtcbiAgICBpc1ZhbGlkID0gZmFsc2U7XG4gIH1cblxuICBpZiAoICQoIFwiI2VtYWlsXCIgKS52YWwoKSA9PT0gXCJcIiB8fCAvXi4rQC4rXFwuLnsyLH0kLy50ZXN0KCAkKCBcIiNlbWFpbFwiICkudmFsKCkgKSA9PT0gZmFsc2UgKSB7XG4gICAgJCggXCJsYWJlbFtmb3I9J2VtYWlsJ11cIiApLmFkZENsYXNzKCBcImludmFsaWRcIiApO1xuICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgfVxuXG4gIGlmICggJCggXCIjc3ViamVjdFwiICkudmFsKCkgPT09IFwiXCIgKSB7XG4gICAgJCggXCJsYWJlbFtmb3I9J3N1YmplY3QnXVwiICkuYWRkQ2xhc3MoIFwiaW52YWxpZFwiICk7XG4gICAgaXNWYWxpZCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKCAkKCBcIiNtZXNzYWdlXCIgKS52YWwoKSA9PT0gXCJcIiApIHtcbiAgICAkKCBcImxhYmVsW2Zvcj0nbWVzc2FnZSddXCIgKS5hZGRDbGFzcyggXCJpbnZhbGlkXCIgKTtcbiAgICBpc1ZhbGlkID0gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gaXNWYWxpZDtcbn1cblxuZnVuY3Rpb24gc2VuZCggdG9rZW4gKSB7XG4gICQuYWpheCgge1xuICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgdXJsOiBcImh0dHA6Ly9iLmxlZ2llYy5ldS9waWdhbWVzL21haWwucGhwXCIsXG4gICAgZGF0YToge1xuICAgICAgXCJnLXJlY2FwdGNoYS1yZXNwb25zZVwiOiB0b2tlbixcbiAgICAgIFwibmFtZVwiOiAkKCBcIiNuYW1lXCIgKS52YWwoKSxcbiAgICAgIFwiZW1haWxcIjogJCggXCIjZW1haWxcIiApLnZhbCgpLFxuICAgICAgXCJzdWJqZWN0XCI6ICQoIFwiI3N1YmplY3RcIiApLnZhbCgpLFxuICAgICAgXCJtZXNzYWdlXCI6ICQoIFwiI21lc3NhZ2VcIiApLnZhbCgpLFxuICAgIH0sXG4gIH0gKVxuICAuZG9uZSggKCBtc2cgKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBKU09OLnBhcnNlKCBtc2cgKTtcblxuICAgIGlmICggcmVzcG9uc2Uuc3VjY2VzcyApIHtcbiAgICAgICQoIFwiZm9ybVwiICkuYWRkQ2xhc3MoIFwic2VudFwiICk7XG4gICAgfVxuICB9ICk7XG59XG5cbmZ1bmN0aW9uIG9uU3VibWl0KCkge1xuICBpZiAoIHZhbGlkYXRlKCB0cnVlICkgKSB7XG4gICAgZ3JlY2FwdGNoYS5leGVjdXRlKCk7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbndpbmRvdy5zZW5kID0gc2VuZDtcblxuJCggXCJmb3JtXCIgKS5vbiggXCJzdWJtaXRcIiwgb25TdWJtaXQgKTtcblxuJCggXCJpbnB1dCwgdGV4dGFyZWFcIiApLm9uKCBcImlucHV0XCIsIHZhbGlkYXRlICk7XG4iXX0="}